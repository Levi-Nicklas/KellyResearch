---
title: "Kelly Criterion"
author: "Xin Wang & Levi C. Nicklas"
output: html_notebook
---

```{r Setup, message = FALSE}
library(CVXR)
```

# Introduction

The Kelly criterion, also known as Kelly gambling, is a formula that aims to provide the optimal size bet to make. What is particularly nice about this method, is that it is *intertemporal*, meaning it is independent of time. This means you only have to calculate it once, and then stick to the plan given that the circumstances of the game have not changed. This problem can be viewed as a convex optimization problem where the goal is to maximize the rate at which your wealth grows.

# About Kelly Gambling

Kelly Gambling has found great successes in portfolio management. In particular, it is quite popular in applications to the stock market, as the stock market can be viewed as a gambling game $^{[2]}$. This method was developed by J.L. Kelly Jr. in 1956  $^{[1]}$. (ADD MORE HERE.)

# Convex Optimization of Kelly Gambling

First we demonstrate how the Kelly gambling problem can be viewed as a convex optimization problem. 

In the case for Kelly gambling, our function we aim to maximize is the average growth rate of our wealth. 

We reproduce the result from the `CVX` paper, Example 4.6, by adapting the MatLab code to `R`.

```{r Define Variables}
# Input data from CVXR Example.
P = c(3.5000, 1.1100, 1.1100, 1.0400, 1.0100,
     0.5000, 0.9700, 0.9800, 1.0500, 1.0100,
     0.5000, 0.9900, 0.9900, 0.9900, 1.0100,
     0.5000, 1.0500, 1.0600, 0.9900, 1.0100,
     0.5000, 1.1600, 0.9900, 1.0700, 1.0100,
     0.5000, 0.9900, 0.9900, 1.0600, 1.0100,
     0.5000, 0.9200, 1.0800, 0.9900, 1.0100,
     0.5000, 1.1300, 1.1000, 0.9900, 1.0100,
     0.5000, 0.9300, 0.9500, 1.0400, 1.0100,
     3.5000, 0.9900, 0.9700, 0.9800, 1.0100)

P <- matrix(P, ncol = 5, byrow = TRUE)

P_dim <- dim(P)

ps <- rep(1, P_dim[1]) / P_dim[1]

unif_res <- rep(1, P_dim[2]) / P_dim[2]

b <- Variable(P_dim[2])
```

```{r Solve Convex Problem}
constr <- list(b >= 0, sum(b) == 1)

prob <- CVXR::Problem(
  CVXR::Maximize(sum(ps * log(P %*% b))),
  constr)

result <- solve(prob)
```






# References
$^{[1]}$ : 

$^{[2]}$ : http://www.diva-portal.org/smash/get/diva2:812697/FULLTEXT01.pdf 




